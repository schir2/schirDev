{% extends 'blog/layouts/base.html' %}
{% block head_title %}
{% endblock %}
{% block content %}
    {% load static %}

    <div class="max-w-3xl mx-auto px-4 py-8 min-h-nav-offset">
        <header class="mb-8">
            <div class="flex justify-between items-center mb-4">
                <div class="flex items-center space-x-2">
                    {% if request.user.is_staff or request.user == article.creator %}
                        <a href="{% url 'blog:article_edit' slug=article.slug %}"
                           class="text-gray-600 hover:text-blue-600 transition-colors">
                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                 fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                 stroke-linejoin="round" class="feather feather-edit-2">
                                <path d="M17 3a2.828 2.828 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5L17 3z"></path>
                            </svg>
                        </a>
                        <form method="post" action="{% url 'blog:article_archive' slug=article.slug %}">
                            {% csrf_token %}
                            <button type="submit" class="text-gray-600 hover:text-red-600 transition-colors">
                                <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24"
                                     fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round"
                                     stroke-linejoin="round" class="feather feather-archive">
                                    <polyline points="21 8 21 21 3 21 3 8"></polyline>
                                    <rect x="1" y="3" width="22" height="5"></rect>
                                    <line x1="10" y1="12" x2="14" y2="12"></line>
                                </svg>
                            </button>
                        </form>
                    {% endif %}
                </div>
                <div class="flex items-center space-x-4 text-sm text-gray-600">
        <span class="flex items-center space-x-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="feather feather-eye"><path d="M1 12s4-8 11-8 11 8 11 8-4 8-11 8-11-8-11-8z"></path><circle cx="12"
                                                                                                                 cy="12"
                                                                                                                 r="3"></circle></svg>
          <span>{{ article.view_count }} views</span>
        </span>
                    <span class="flex items-center space-x-1">
          <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
               stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
               class="feather feather-heart"><path
                  d="M20.84 4.61a5.5 5.5 0 0 0-7.78 0L12 5.67l-1.06-1.06a5.5 5.5 0 0 0-7.78 7.78l1.06 1.06L12 21.23l7.78-7.78 1.06-1.06a5.5 5.5 0 0 0 0-7.78z"></path></svg>
          {% include 'blog/partials/like_dislike_buttons.html' %}
        </span>
                    <span class="flex items-center space-x-1">
          <span>{{ article.comments.count }} comments</span>
        </span>
                </div>
            </div>
            <h1 class="text-4xl font-bold text-gray-900 mb-2">{{ article.title }}</h1>
            <div class="flex items-center justify-between text-sm text-gray-600 mb-4">
                <div class="flex items-center space-x-4">
                    {% if article.creator.profile_image %}
                        <img src="{{ article.creator.profile_image.url }}" alt="{{ article.creator.username }}"
                             class="w-10 h-10 rounded-full">
                    {% else %}
                        <div class="w-10 h-10 rounded-full bg-gray-300"></div>
                    {% endif %}
                    <span>By {{ article.creator.username }}</span>
                    <span>{{ article.created_at|date:"F d, Y" }}</span>
                </div>
                <button class="flex items-center space-x-1 text-blue-600 hover:text-blue-800">
                    <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" viewBox="0 0 24 24" fill="none"
                         stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"
                         class="feather feather-share-2">
                        <circle cx="18" cy="5" r="3"></circle>
                        <circle cx="6" cy="12" r="3"></circle>
                        <circle cx="18" cy="19" r="3"></circle>
                        <line x1="8.59" y1="13.51" x2="15.42" y2="17.49"></line>
                        <line x1="15.41" y1="6.51" x2="8.59" y2="10.49"></line>
                    </svg>
                    <span>Share</span>
                </button>
            </div>
            <div class="flex flex-wrap gap-2 mb-4">
                {% if article.topic %}
                    <span class="bg-violet-500 text-white py-1 px-3 text-sm rounded-full">
          {{ article.topic.name }}
        </span>
                {% endif %}
                {% for tag in article.tags.all %}
                    <span class="bg-amber-300 py-1 px-3 text-sm rounded-full">
          {{ tag.name }}
        </span>
                {% endfor %}
            </div>
        </header>

        <main class="prose prose-lg max-w-none">
            {{ article.content|safe }}
        </main>
    </div>
{% endblock %}